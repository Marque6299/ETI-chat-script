<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ETG Chat Script Manager</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <style>
:root {
    --primary-color: #3498db;
    --secondary-color: #BC6C25;
    --background-color: linear-gradient(to right, #283618, #343a40);
    --sidebar-width: 300px;
    --text-dark: #2c3e50;
    --text-light: #ffffff;
    --border-radius: 8px;
    --box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    --script-header-bck: linear-gradient(to right, #2980b9, #BC6C25);
    --background-default: linear-gradient(to right, #283618, #343a40);
}


* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    background: var(--background-color);
    line-height: 1.6;
    overflow-y: scroll;
}

.app-container {
    display: flex;
    min-height: 100vh;
    max-width: 1800px;
    margin: 0 auto;
}

/* Sidebar Styles */
.sidebar {
    width: var(--sidebar-width);
    background: var(--background-color);
    box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);
    transition: transform 0.3s ease;
    position: fixed;
    top: 0;
    right: 0;
    height: 100%;
    z-index: 1000;
    transform: translateX(100%);
    overflow-y: auto;
    
}

.sidebar.open {
    transform: translateX(0%);
}

.sidebar-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 30px;
    border-bottom: 2px solid #00050a;
    border: 5px solid #011e24;
    border-radius: 30px;
    background-color: #06704b;
    margin-top: 10px;
}

.sidebar-header h2 {
    font-size: 1.2rem;
    font-weight: 600;
    color: #f0f0f0;
}

.close-sidebar-btn {
    background: none;
    border: none;
    font-size: 1.5rem;
    color: var(--text-dark);
    cursor: pointer;
    color: #ddd;
}

.sidebar-content {
    padding: 10px;
    border: 5px solid #011e24;
    border-radius: 20px;
    margin-top: 10px;
}

.form-group {
    margin-bottom: 5px;
}

.form-group label {
    display: none;
    margin-bottom: 5px;
    font-weight: 500;
}
.form-group-intent label {
    display: none;
    margin-bottom: 5px;
    font-weight: 500;
}

.form-input {
    width: 100%;
    padding: 10px;
    border: 1px solid #000000;
    border-radius: 15px;
    transition: border-color 0.3s ease;
    background-color: #888;
    color: #ddd;
    padding: 2px;
}

.form-input::placeholder{
    color: #ddd;
    text-align: center;
    font-size: 15px;
    justify-content: center;
}

.form-input:not(:placeholder-shown) {
    text-align: center;
}

.form-input:focus {
    outline: none;
    border-color: var(--primary-color);
    text-align: center;
}

#clearForm {
    width: 100%;
    padding: 5px;
    background-color: #5e7062;
    color: var(--text-light);
    border: none;
    border-radius: var(--border-radius);
    cursor: pointer;
    transition: background-color 0.3s ease;
    margin-top: 10px;
    font-size: 12px;
}

#clearForm:hover {
    background-color: #700000;
    transform: translateY(-2px);
    transition: ease 0.5s;
}

/* Main Content Styles */
.main-content {
    flex-grow: 1;
    margin-right: 0;
    transition: margin-left 0.3s ease;
    width: 100%;
    padding-right: 0;
}
.app-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 20px;
    background: var(--background-color);
    box-shadow: var(--box-shadow);
    position: sticky;
    top: 0;
    z-index: 100;
    font-size: 14px;
}


.sidebar-toggle {
    background: none;
    border: none;
    font-size: 1.5rem;
    color: var(--primary-color);
    cursor: pointer;
    margin-right: 15px;
    margin-left: 20px;
    padding-right: 50px;
}

.logo h1 {
    padding-left: 50px;
    font-weight: 700;
    color: #7bf1a8;
}

.header-actions {
    display: flex;
    align-items: center;
    gap: 30px;
    padding-right: 100px;
}

.header-link-button{
    background: var(--background-color);
    border-radius: 20px;
}

.search-container {
    position: relative;
}

.search-input {
    padding: 8px 35px 8px 15px;
    border: 1px solid #ddd;
    border-radius: var(--border-radius);
    width: 400px;
    font-size: 14px;
}


.times-icon {
    position: absolute;
    right: 10px;
    top: 50%;
    transform: translateY(-50%);
    color: #888;
    border: none;
}

.fd-calculator-link {
    display: flex;
    align-items: center;
    text-decoration: none;
    color: white;
    font-weight: 500;
    border: 2px solid var(--primary-color);
    padding: 5px;
    border-radius: 15px;
    background: var(--background-color);
    font-size: 16px;
    width: 250px;
    justify-content: space-evenly;
}

.fd-calculator-link:hover {
    color: white;
    border: 2px solid var(--secondary-color);

}

.fd-calculator-link i {
    margin-right: 5px;
}

/* Navigation Styles */
.main-nav {
    position: sticky;
    top: 74.8px;
    display: flex;
    flex-wrap: wrap;
    background: var(--background-color);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    padding: 10px;
    gap: 10px;
    white-space: nowrap;
    justify-content: flex-start;
    z-index: 999;
    flex: 1;
    padding-left: 40px;
}

.nav-btn {
    padding: 8px 15px;
    background-color: var(--primary-color);
    border: 1px solid #ddd;
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 0.9rem;
    color: #f0f0f0;
    font-size: 14px;
    border: 1px solid var(--text-dark);
    box-shadow: var(--box-shadow);
}

.nav-btn.active {
    background-color: var(--secondary-color);
    color: var(--text-light);
    border: 2px solid var(--primary-color);
}

.nav-btn:hover {
    background-color: var(--secondary-color);
    color: var(--text-light);
}

.main-nav :last-child{
    background: #918409;
}


/* Sections Container */
.sections-container {
    padding: 20px;
}

.interaction-section {
    display: none;
}

.interaction-section.active {
    display: block;
    margin-bottom: 10px;
}

.section-grid{
    display: grid;
    grid-template-columns: 300px 1fr;
    row-gap: 10px;
    background: linear-gradient(to right, #0d1821, #1a535c);
    padding: 10px;
    border-radius: 10px;
}

.section-headers{
    grid-column: 1;
    display: grid;
    background: var(--script-header-bck);
    border-radius: 20px 0 0 20px;
    align-items: center;
    justify-content: center;
    grid-column: 1fr;
    padding: 10px;
}

.section-headers h3{
    color: #ddd;
    font-size: 14px;
    text-align: center;
}

.section-headers p{
    color: #daf5ff;
    font-size: 12px;
    text-align: center;
    line-height: normal;
    font-style: italic;
}

.section-scripts{
    grid-column: 2;
    display: flex;
    flex-direction: column;
    gap: 5px;
    border-radius: 0 30px 30px 0;
    vertical-align: middle;
}

.script-card {
    background: white;
    border-radius: 0 20px 20px 0;
    flex-grow: 1;
    padding: 5px;
    color: black;
    font-weight: 600;
    font-size: 14px;
}

.script-card span{
    color: red;
}

.script-card:hover {
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
    transform: translateX(3px);
}

.manual-edit {
    background-color: transparent;
    padding: 2px 5px;
    border-radius: 4px;
    cursor: pointer;
    color: red;
    font-weight: 600;
    border-bottom: 3px solid #07498b;
}

.manual-edit :focus{
    background-color: transparent;
    padding: 2px 5px;
    border-radius: 4px;
    cursor: pointer;
    color: #000000;
    font-weight: 600;
    border-bottom: 3px solid #07498b;
}

.reset-btn{
    background-color: #2c3e50;
    color: #ddd;
    padding: 2px;
    border-radius: 20px;
    font-size: 12px;
}

.reset-btn :hover{
    color: #700000;
}

.tooltip {
    position: fixed;
    background-color: var(--secondary-color);
    color: var(--text-light);
    padding: 8px;
    border-radius: var(--border-radius);
    opacity: 0;
    transition: opacity 0.3s ease;
    z-index: 1000;
    font-size: 12px;
}

/* Responsive Adjustments */
@media (max-width: 768px) {
    .sidebar {
        width: 100%;
    }

    .main-content {
        margin-left: 0 !important;
        width: 100% !important;
    }

    .main-nav {
        flex-wrap: nowrap;
        overflow-x: scroll;
    }

    .nav-btn {
        flex-shrink: 0;
    }

    .header-actions {
        flex-direction: column;
        gap: 10px;
        width: 100%;
    }

    .search-input {
        width: 100%;
    }
}
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside id="sidebar" class="sidebar">
            <div class="sidebar-header">
                <h2><i class="fas fa-sliders-h"></i> Interaction Details</h2>
                <button id="closeSidebar" class="close-sidebar-btn">
                    <i class="fas fa-times"></i>
                </button>
            </div>

            <div class="sidebar-content">
                <div class="form-group">
                    <label for="agentName">Agent Name</label>
                    <input type="text" id="agentName" class="form-input" placeholder="Agent name..">
                </div>
                <button id="clearForm" class="btn btn-secondary">Clear All</button>
            </div>
        </aside>
        
        <!-- Main Content -->
        <main class="main-content">
            <header class="app-header">
                <div class="logo">
                    <h1><i class="fas fa-comments"></i>ETG Chat Script</h1>
                </div>
                <div class="search-container">
                    <input type="text" class="search-input" placeholder="Search scripts...">
                    <button class="times-icon"><i class="fas fa-times"></i></button>
                </div>
                <div class="header-actions">
                    <button class="header-link-button"><a href="https://mis-ghostjm.github.io/GLBMIS/" target="_blank" class="fd-calculator-link">
                        <i class="fas fa-calculator"></i> FD Calculator
                    </a></button>
                </div>
                <button id="sidebarToggle" class="sidebar-toggle" aria-label="Toggle Sidebar">
                    <span class="toggle-icon"><i class="fa-solid fa-gear"></i></span>
                </button>
            </header>

            <nav class="main-nav">
                <button id="opening-nav" class="nav-btn active">Opening</button>
                <button id="helpful-statements-nav" class="nav-btn" style="display: none;">Helpful Statements</button>
                <button id="closing-nav" class="nav-btn">Closing</button>
                <button id="hold-nav" class="nav-btn">Hold</button>
                <button id="payment-nav" class="nav-btn">Payment</button>
                <button id="objections-nav" class="nav-btn">Handling Objections</button>
                <button id="change-nav" class="nav-btn">Change</button>
                <button id="refunds-nav" class="nav-btn">Refunds</button>
                <button id="refund-delay-nav" class="nav-btn">Refund Delays</button>
                <button id="cancel-nav" class="nav-btn">Cancel</button>
                <button id="schedule-change-nav" class="nav-btn">Schedule Change</button>
                <button id="name-correction-nav" class="nav-btn" style="display: none;">Name Correction</button>
                <button id="yy-contact-nav" class="nav-btn" style="display: none;">YY Contact</button>
                <button id="csat-scripts-nav" class="nav-btn">C-Sat Scripts</button>
            </nav>

            <div class="sections-container">
                <!-- Opening Section -->
                <section id="opening-section" class="interaction-section active">
                    <div class="section-grid">
                        <div class="section-headers">
                            <h3>Asking for Order Number</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                Hello, <span class="manual-edit" data-default-text="[Cx Name]" onclick="enableTextEdit(this)">[Cx Name]</span>! 
                                My name is <span class="agent_name" data-default-text="[Agent name]">[Agent name]</span>. 
                                To assist you, I will need your order number.
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>Chat Opening (asking to wait)</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                Hello, <span class="manual-edit" data-default-text="[Cx Name]" onclick="enableTextEdit(this)">[Cx Name]</span>! 
                                My name is <span class="agent_name" data-default-text="[Agent name]">[Agent name]</span>. 
                                Please give me a moment to review your request.
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>Chat Opening (asking to state the request)</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                Hello, <span class="manual-edit" data-default-text="[Cx Name]" onclick="enableTextEdit(this)">[Cx Name]</span>! 
                                My name is <span class="agent_name" data-default-text="[Agent name]">[Agent name]</span>. 
                                How may I help you with your booking?
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>When the customer doesn't have the order number</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                To assist you, I need to find your booking first. Please provide one of the following:<br> 
                                E-ticket number:<br>
                                Booking / airline reference number:<br>
                                Transaction number / approval code:
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>Order not found</h3>
                            <p>(potentially booked with other provider)</p>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                We're sorry to inform you that the booking reference does not match a ticket purchased through our website. 
                                It appears that your ticket was acquired through another company. 
                                If you have any additional questions or concerns, please don't hesitate to reach out to us again.
                            </div>
                        </div>
                    </div>
                </section>
                <!--Closing-->
                <section id="closing-section" class="interaction-section">
                    <div class="section-grid">
                        <div class="section-headers">
                            <h3>Thanking and checking if customer needs any further help</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                It was a pleasure to have assisted you today . Would there be anything else I can help you with?
                            </div>
                            <div class="script-card">
                                I'm glad I have been able to assist you today. Please let me know if you have any further questions or concerns.
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>The customer is already unhappy with our service we need to use this script instead of using a standard closing script</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                We apologize for the inconvenience, but we're unable to assist you at this moment. 
                                Your satisfaction is important to us, and we're continuously striving to improve our service. 
                                Please feel free to reach out in the future for any assistance. This chat will now close.
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>To use when the customer doesn't respond for 2 minutes. Send it and wait for another 3 minutes</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                I didn't receive any response, and I want to make sure we're still connected. 
                                Let me know by responding to the chat. 
                                Otherwise, this chat will close in 3 minutes.
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>Close chat after no response for 5 minutes</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                I still haven't received any response, and it seems that you are no longer connected. 
                                This chat will now be closed. 
                                If you need further assistance, please start a new chat. Thank you.
                            </div>
                        </div>
                    </div>
                </section>
                <!--Closing END-->
                <!--Hold Start-->
                <section id="hold-section" class="interaction-section">
                    <div class="section-grid">
                        <div class="section-headers">
                            <h3>Putting customer on hold</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                Please give me a moment to review your information. It won't take more than 5 minutes.
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>Refresh Hold</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                Thank you for waiting. But I will need 5 more minutes to work on your request.
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>Customer Proceed with request</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                Thank you. Please give me a moment to process your request. I will need an additional 5 minutes, please.
                            </div>
                        </div>
                    </div>
                </section>
                <!--Hold END-->
                <!--Payment-->
                <section id="payment-section" class="interaction-section">
                    <div class="section-grid">
                        <div class="section-headers">
                                <h3>When sending payment link on email</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                Thank you, <span class="customer_name" data-default-text="[Cx name]">[Cx name]</span>! I have shared a payment link on your registered email address. 
                                Please make the payment and let me know.  You can use the link within the next 5 minutes to complete the payment. 
                                Please be aware that not responding within this timeframe will result in this chat being disconnected. 
                                If you cannot access the payment link or have any other questions, please let me know, and I'll be happy to assist you.
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>When sending payment link in chatbox</h3>
                    </div>
                    <div class="section-scripts">
                        <div class="script-card">
                            Thank you, <span class="customer_name" data-default-text="[Cx name]">[Cx name]</span>! I've included a payment link in this chat window. 
                            Please open the link in a separate browser tab without closing the chat. You can use the link within the next 5 minutes to complete the payment. 
                            Please be aware that not responding within this timeframe will result in this chat being disconnected. If you cannot access the payment link or have any other questions, please let me know, and I'll be happy to assist you.
                        </div>
                    </div>
                        <div class="section-headers">
                            <h3>Payment successfully received</h3>
                            <p>(for Baggage/Seating/Special equipment)</p>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                Thank you, <span class="customer_name" data-default-text="[Cx name]">[Cx name]</span> for your payment. 
                                Within 24 hours, you’ll receive an email confirming your <span class="manual-edit" data-default-text="(Baggage/seating/special)" onclick="enableTextEdit(this)">(Baggage/seating/special)</span>,
                                 linked to your airline reference number. If you don't see the confirmation in your inbox, please check your spam folder.
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>When the customer is not ready to make the payment within 30 minutes</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                No problem at all, <span class="customer_name" data-default-text="[Cx name]">[Cx name]</span>. 
                                Please note the payment will expire after 30 minutes. You may contact us again when you're ready to make the payment so we can send you the new link.
                            </div>
                        </div>
                    </div>
                </section>
                <!--Payment End-->
                <!--Refunds-->
                <section id="refunds-section" class="interaction-section">
                    <div class="section-grid">
                        <div class="section-headers">
                            <h3>The customer is asking for the status of their refund</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                You can check your refund status by logging in to "My Bookings", which you can access through the top right corner of our site.
                            </div>
                            <div class="script-card">
                                Log in with Facebook or Google if you used your linked email account to make the booking or enter your order number and the email you used when booking.
                            </div>
                            <div class="script-card">
                                Once logged on to "My Bookings" you will be able to see the latest information about your refund.
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>My friend who booked with another agency already got their refund, when will I get mine?</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                As a result of the sudden increase in refund requests, 
                                we as a company are trying to complete as many requests as possible every day. 
                                We have appointed the maximum available additional staffing to ensure that we handle all the requests with the highest possible priority. 
                                We are handling all the requests by date of submission, however, there are other factors that influence the waiting time and the outcome itself, such as if, and how quickly we are able to retrieve the funds from the airline. 
                                We assure you that we are doing our best to help all our customers as soon as possible.
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>when the customer is inquiring on the refund status and we have given all possible information</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                We have already provided all the available information regarding your refund status. 
                                To stay updated, please visit the "My Bookings" page on our website. Unfortunately, 
                                our support team is unable to assist you further at this time.
                            </div>
                            <div class="script-card">
                                Thank you for your patience and understanding. 
                                We're working diligently to process your refund as quickly as possible. 
                                We apologize for any inconvenience this may have caused.
                            </div>
                            <div class="script-card">
                                Due to the high volume of customer inquiries, we must now close this chat. 
                                If you have any other questions or concerns, please don't hesitate to reach out to us again. Have a great day!
                            </div>
                        </div>
                    </div>
                </section>
                <!--Refund END-->
                <!--Refund Delays-->
                <section id="refund-delay-section" class="interaction-section">
                    <div class="section-grid">
                        <div class="section-headers">
                            <h3>But how long do I have to wait?</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                While I don't have an exact timeframe at the moment, please be assured that processing your refund is a top priority for us. As an intermediary of the airline, we are unable to confirm the refund timeframe, as we have to wait for the refund from the airline. 
                                Refunds typically undergo a thorough review process, which can vary based on several factors including payment method, bank processing times, and any specific policies related to your booking. 
                                Rest assured, we are actively working to expedite the process as much as possible. 
                                Our refund team will notify you via email once the refund is processed. 
                                You may also check the refund status on our website under the 'My Bookings' section. 
                                We appreciate your patience and truly value your business.
                            </div>
                            <div class="script-card">
                                Refund timelines can vary, but we're here to ensure a smooth process! On average, it takes them 5 business days to process these, and once we receive those funds, our internal processing takes about 6 days. 
                                This means you can expect to see your refund within 10-15 business days. We're committed to transparency and will keep you informed every step of the way.
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>When will I get my refund. It has been days/months I am waiting for my refund</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                We totally get how frustrating it can be when things take longer than expected, and we're really sorry if this delay has caused any inconvenience to you. 
                                Rest assured, we're doing all we can to speed up this refund process. Normally, once we get the go-ahead from the airline, we aim to sort it out within about 6 days. But sometimes, delays beyond our control can be caused. 
                                Thanks for bearing with us while we get this sorted. We genuinely appreciate your patience and understanding during this time. 
                                Refund timelines can vary, but we're here to ensure a smooth process! On average, it takes them 5 business days to process these, and once we receive those funds, our internal processing takes about 6 days. 
                                This means you can expect to see your refund within 10-15 business days. We're committed to transparency and will keep you informed every step of the way.
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>We should always update the customer on where they can check the status of their refund</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                We assure you that we are doing everything we can to make sure that the refund is processed as soon as possible, 
                                We truly understand your concern, and we assure you that all the necessary actions have been taken from our end for your tickets. 
                                The reason why you have not received the refund for the ticket is because we cannot start processing a refund until we have received the funds from the airline. 
                                You will be notified via a separate email as soon as the rest of the amount has been refunded. 
                                We totally understand your point of view, however, we would like to assure you that we have already taken all the necessary actions regarding your request
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>We should always update the customer on where they can check the status of their refund</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                We totally get how frustrating it can be when things take longer than expected, and we're really sorry if this delay has caused any inconvenience to you.
                            </div>
                            <div class="script-card">
                                Rest assured, we're doing all we can to speed up this refund process. 
                                Normally, once we get the go-ahead from the airline, we aim to sort it out within about 6 days. 
                                But sometimes, delays beyond our control can be caused.
                            </div>
                            <div class="script-card">
                                Thanks for bearing with us while we get this sorted. We genuinely appreciate your patience and understanding during this time.
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>Can you call the airline to prioritize my refund?</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                I truly apologize for the inconvenience, while we absolutely understand your concern, 
                                we have no influence over the airlines' prioritization from our end as they work with an extremely increased workload as well and have their own priorities to meet. 
                                As a result, the only option is for us to wait for the airline to finalize our request. 
                                Your patience is highly appreciated.
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>The airline said I can have a full refund, why are you saying I can't get a full refund?</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                Based on the force majeure guidelines we have received from the airline, 
                                we cannot proceed with your refund request. If you were informed by the representative of the airline company that you are entitled to a full refund, 
                                please ask them to insert a note in your booking with the authorization code.
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>If refund is still within the timeline</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                Appreciate your patience, On average, processing the refund by airline takes about 5 business days, 
                                followed by an additional 6 days for our internal handling. 
                                Therefore, you can expect to receive your refund within 10 to 15 business days. 
                                We are currently facing a high volume of refund requests, and are doing our best to prioritize based on their submission date and other factors.
                            </div>
                            <div class="script-card">
                                Although we are unable to give you a precise time frame, please be assured that we are doing our best to process your request as soon as possible. 
                                We'll send you an email as soon as your refund is finalized. 
                                Thank you for your understanding.
                            </div>
                        </div>
                    </div>
                </section>
                <!--Refund Delays End-->
                <!--Change Start-->
                <section id="change-section" class="interaction-section">
                    <div class="section-grid">
                        <div class="section-headers">
                            <h3>Change Breakdown</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                Currently, the charges for rebooking, including the tax and/or fare difference are listed below:<br>
                                Total to pay for change: <span class="manual-edit" data-default-text="Total Change Fee Amount" onclick="enableTextEdit(this)">Total Change Fee Amount</span><br>
                                -Breakdown of charges-<br>
                                Airline change fee: <span class="manual-edit" data-default-text="Airline Change Fee" onclick="enableTextEdit(this)">Airline Change Fee</span><br>
                                Handling fee: <span class="manual-edit" data-default-text="Change Handling Fee" onclick="enableTextEdit(this)">Change Handling Fee</span><br>
                                Fare difference: <span class="manual-edit" data-default-text="(Change) Fare Difference" onclick="enableTextEdit(this)">(Change) Fare Difference</span><br>
                                New flight details : <span class="manual-edit" data-default-text="New Flight Details" onclick="enableTextEdit(this)">New Flight Details</span><br><br>
                                Would you like to proceed with the changes?
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>Change request - not-permitted/non-refundable</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                I have checked the details of your booking. However, the rules state that this ticket is non-refundable and cannot be changed. 
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>If the customer objects to (not-permitted/non-refundable)</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                We are required to follow the airline's rules for your ticket(s). 
                                Unfortunately, in this case we are not allowed to make the changes and ticket is not refundable.
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>CHG request - permitted ETG</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                I’d be happy to help you make the change; however, change fees will apply for this service. 
                                Allow me check the details for in 5 minutes.
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>No changes made ETG - Customer doesn't want to change</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                No problem. Please note that I have not made any changes to your booking. 
                                If you decide to make this change, contact us again no later than <span class="manual-edit" data-default-text="[deadline]" onclick="enableTextEdit(this)">[deadline]</span>. 
                                After this date, changes may not be allowed or additional airline fees may apply.
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>If customer has an objection on airline costs</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                After this date, changes may not be allowed or additional airline fees may apply.
                            </div>
                            <div class="script-card">
                                The price of a ticket is based on demand and set by the airline – the fare is higher for the date and time you are choosing than the ticket you originally paid for If you are flexible, 
                                I can search for 2 to 3 different travel dates/times for a lesser fare difference. 
                                Do you want me to do that?
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>Customer objects when referred to the airline</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                As your travel agency, we're here to make your booking experience as smooth as possible and assist with your travel needs. 
                                While we can help with most inquiries, like itinerary changes and general questions, there are some cases where you'll need to contact the airline directly. 
                                This is due to airline policies that require their intervention. 
                                Rest assured, we’ll continue to support you in any way we can to ensure your trip goes smoothly
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>When the customer provides multiple dates to check for pricing</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                I can provide you with only 2 or 3 new travel options for your trip through this channel. 
                                However, you can find more by checking the cost and flight availability in “My Bookings”, under the “Manage trip” tab. 
                                If it's not available for your ticket, check the airline's website for your desired dates and prices, then contact our Support. 
                                Thank you for your understanding.
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>Pax doesn't want to proceed to rebooking  or change</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                No problem. Please note that I have not made any changes to your booking.
                                If you decide to make this change, kindly contact us again no later than <span class="manual-edit" data-default-text="[deadline]" onclick="enableTextEdit(this)">[deadline]</span>.
                                After this date, changes may not be allowed or additional airline fees may apply.
                            </div>
                        </div>
                    </div>
                </section>
                <!--Change End-->
                <!--Handling Objections-->
                <section id="objections-section" class="interaction-section">
                    <div class="section-grid">
                        <div class="section-headers">
                            <h3>Objection on  ETG service fee</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                Our service fee covers your case handling, including all necessary communication and administrative work with the airline. 
                                As your travel agency, we’re committed to managing all paperwork and follow-up to ensure that the process is handled smoothly. 
                                Please feel free to reach out if you have any additional questions regarding this matter.
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>If customer has an objection when referred to the airline</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                As your travel agency, we're here to make your booking experience as smooth as possible and assist with your travel needs. 
                                While we can help with most inquiries, like itinerary changes and general questions, there are some cases where you'll need to contact the airline directly. 
                                This is due to airline policies that require their intervention. Rest assured, we’ll continue to support you in any way we can to ensure your trip goes smoothly.
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>The case is already with Support and we are waiting for airline reply</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                Our team is still waiting for a response from the airline. We will get back to you as soon as we have an update.
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>When the refund process takes more than 15 business days</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                We totally understand how frustrating it can be when things take longer than expected, and we're really sorry if this delay has caused any inconvenience to you. 
                                Rest assured, we're doing all we can to speed up this refund process. Normally, once we get the go-ahead from the airline, we aim to sort it out within about 6 days. 
                                But sometimes, delays beyond our control can happen. Please kindly note, any extra delay might not be our fault—sometimes it's down to how quickly your bank processes the refund once we've sent it over. Thanks for bearing with us while we get this sorted. 
                                We genuinely appreciate your patience and understanding during this time. If you've got any other questions or need a hand with anything else, just let us know. We're here to help!
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>If customer has an objection on airline costs</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                The price of a ticket is based on demand and set by the airline – the fare is higher for the date and time you are choosing than the ticket you originally paid for. 
                                If you are flexible, I can search for 2 to 3 different travel dates/times for a lesser fare difference. 
                                Would you like me to do that?
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>The customer keeps pushing back after the agent has repeatedly tried educating the customer in regards to their refund delay</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                I acknowledge your frustration but we have already provided all the information we have. 
                                I regret that I will need to disconnect this chat, 
                                which is inevitable due to many other customers waiting in our queues. 
                                We are doing our best in order to get your refund. 
                                Therefore I'm going to disconnect the chat, 
                                thank you for understanding.
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>When customer agrees to a supervisor call within the next 24H</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                Thank you, <span class="manual-edit" data-default-text="[Cx Name]" onclick="enableTextEdit(this)">[Cx Name]</span>.  One of our supervisors will contact you at the phone number provided within 24 hours.
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>I will sue your company</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                We totally understand your point of view, however, 
                                we would like to assure you that we have already taken all the necessary actions regarding your request and no further actions are required from your side.
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>Will I get compensation?</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                While we may understand the reason for your request we do not handle any compensation-related requests over the telephone. 
                                You may submit your request through our contact form and our Customer Relations team will investigate and reply accordingly
                            </div>
                            <div class="script-card">
                                Please take into consideration that due to increased volumes it might take some time until you receive a response.
                            </div>
                        </div>                          
                    </div>
                </section>
                <!--Handling Objections END-->
                <!-- C-Sat Section Start-->
                <section id="csat-scripts-section" class="interaction-section">
                    <div class="section-grid">
                        <div class="section-headers">
                            <h3>FOLLOW HOLD PROCEDURE</h3>
                            <p>update the customer on a timely manner (within 5 minutes)</p>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                Thank you for waiting <span class="manual-edit" data-default-text="[Cx Name]" onclick="enableTextEdit(this)">[Cx Name]</span>. I am now checking the <span class="manual-edit" data-default-text="[reason for hold]" onclick="enableTextEdit(this)">[reason for hold]</span> and would be needing more time. It won't take more than 5 minutes
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>WHEN PLACING CUSTOMER ON HOLD </h3>
                            <p>Explain the reason why you are putting the customer on hold / or the activities being conducted.</p>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                I am currently checking the <span class="manual-edit" data-default-text="[reason for hold]" onclick="enableTextEdit(this)">[reason for hold]</span>. Please allow me more time.
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>APOLOGIZE FOR LONG OR MULTIPLE HOLDS</h3>
                            <p>Apologize and explain why the transaction is taking so much time. Always respect customers time</p>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                I apologize for taking so much of your time and I appreciate your patience with me today. I am making sure that I am processing this correctly thus I will need a few more minutes to work on this.
                            </div>
                        </div>
                        <div class="section-headers">
                            <div class="section-header">
                                <h3>Closing - CHAT ABOVE 15 TO 20 MIN (Resolved/Unresolved Cases)</h3>
                                <p>Apologize for the long transaction and that you are doing your best to help the customer</p>
                                <p>Apologize for the long transaction and that you are doing your best to help the customer</p>
                            </div>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                I am doing my best to resolve your <span class="manual-edit" data-default-text="[customer request]" onclick="enableTextEdit(this)">[customer request]</span> thus it took sometime to process it. I sincerely apologize and thank you for your patience.
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>TRANSFER CUSTOMER TO SCHEDULE CHANGE TEAM</h3>
                            <p>Briefly explain that you want to help but due to some reason (provide the reason) you need to transfer schedule team</p>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                I’d really love to help you with the <span class="manual-edit" data-default-text="[customer request]" onclick="enableTextEdit(this)">[customer request]</span>, however, I need to transfer your chat to our schedule change team who can assist you better.
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>Send to Support Cases</h3>
                            <p>Briefly explain that you want to help but due to some reason (provide the reason), you need to send the request to our concern team</p>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                I’d really love to help you with the <span class="manual-edit" data-default-text="[customer request]" onclick="enableTextEdit(this)">[customer request]</span>, however,  I need to send this request to our concern team who can assist you better.
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>REFERRING THE CUSTOMER TO AIRLINE</h3>
                            <p>Briefly explain that you want to help but due to some reason (specify the reason example ticket is in airlines control or instruction in Document Tab states that the customer need to contact the airline)</p>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                I would love to assist you with your <span class="manual-edit" data-default-text="[customer request]" onclick="enableTextEdit(this)">[customer request]</span>, however the airline [brief reason why] thus we’re unable to proceed. Please reach out to the airline for this request.
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>Closing After Long Chat</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                It was my pleasure assisting you today. I truly appreciate your patience with me.
                            </div>
                        </div>
                    </div>
                </section>
                <!-- Cancel -->
                <section id="cancel-section" class="interaction-section">
                    <div class="section-grid">
                        <div class="section-headers">
                            <h3>When the ticket is within 'void' window (no add-ons)</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                Thank you for waiting, <span class="manual-edit" data-default-text="[Cx Name]" onclick="enableTextEdit(this)">[Cx Name]</span>. I'm very happy to inform you we can cancel the reservation as it's still under same-day booking and you can have the refund less the handling fee from our end. 
                                The rest of the amount will be refunded back.
                            </div>
                            <div class="script-card">
                                Thank you for waiting, <span class="manual-edit" data-default-text="[Cx Name]" onclick="enableTextEdit(this)">[Cx Name]</span>. I'm very happy to inform you we can cancel the reservation as it's still under same- day booking and you can have the refund less the handling fee from our end.<br>
                                I have checked and you have some add-on products as well which can't be refunded after cancellation.<br>
                                These products are:<br>
                                <span class="manual-edit" data-default-text="Refundable Add on Products" onclick="enableTextEdit(this)">Refundable Add on Products</span><br>
                                The rest of the amount will be refunded back. <br>
                                Would you like to proceed with the cancellation?
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>The customer wants to cancel (full refund applicable)</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                Hi <span class="manual-edit" data-default-text="[Cx Name]" onclick="enableTextEdit(this)">[Cx Name]</span>, According to the airline terms and conditions for cancellation, cancellation fees will apply which are listed below:<br>
                                Total to pay for Cancellation: <span class="manual-edit" data-default-text="Total Cancelation Fee Amount" onclick="enableTextEdit(this)">Total Cancelation Fee Amount</span><br>
                                -Breakdown of charge-
                                Airline Cancellation fee: <span class="manual-edit" data-default-text="[Airline Cancelation fee]" onclick="enableTextEdit(this)">[Airline Cancelation fee]</span><br>
                                Handling fee: <span class="manual-edit" data-default-text="[Cancelation Handling fee]" onclick="enableTextEdit(this)">[Cancelation Handling fee]</span><br>
                                Would you like us to proceed with canceling your booking and submitting a refund request to the airline?
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>When the cancellation is done (Refundable)</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                Your booking is cancelled, and you will be getting a confirmation email after this conversation. 
                                On average, processing the refund by airline takes about 5 business days, followed by an additional 6 days for our internal handling. 
                                Therefore, you can expect to receive your refund within 10 to 15 business days. We are currently facing a high volume of refund requests, and are doing our best to prioritize based on their submission date and other factors.<br>
                                Although we are unable to give you a precise time frame, please be assured that we are doing our best to process your request as soon as possible. 
                                We'll send you an email as soon as your refund is finalized. Thank you for your understanding.
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>Customer wants to cancel (no refund applicable but with voucher)</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                <span class="manual-edit" data-default-text="[Cx Name]" onclick="enableTextEdit(this)">[Cx Name]</span>, the airline's rules indicate that they are ONLY allowing a future travel credit/voucher instead of a refund. 
                                Should I secure this for you as you can use this up to <span class="manual-edit" data-default-text="[-voucher validity-]" onclick="enableTextEdit(this)">[-voucher validity-]</span> months, 
                                Shall we go ahead and cancel the booking?
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>If customer is adamant on a refund only</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                According to the current policy, the refund will only be as per the fare rules which state that your tickets are not refundable. 
                                Shall we go ahead and cancel the booking?
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>When the cancellation is done (Non-refundable)</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                I have now cancelled your original ticket and I have sent all details regarding Future Travel ticket/open voucher on your registered email address.
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>Customer wants to cancel (ticket is partially used)</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                <span class="manual-edit" data-default-text="[Cx Name]" onclick="enableTextEdit(this)">[Cx Name]</span>, I can see that the airline might be offering a refund. 
                                Please note that an airline fee per person applies for cancellation, while your refund eligibility depends on the amount corresponding to the part of the ticket used. 
                                Also, some taxes and extra services may be non-refundable per the airline's rules and our terms and conditions.
                                Do you want to cancel for all passengers?
                            </div>
                            <div class="script-card">
                                Please note:<br>
                                On average, processing the refund by the airline takes about 5 business days, 
                                followed by an additional 6 days for our internal handling. 
                                Therefore, you can expect to receive your refund within 10 to 15 business days.<br>
                                Cancellation fees will apply which are listed below:<br>
                                Total to pay for cancellation: <span class="manual-edit" data-default-text="Total Cancelation Fee Amount" onclick="enableTextEdit(this)">Total Cancelation Fee Amount</span><br>
                                -Breakdown-<br>
                                Airline cancellation fee: <span class="manual-edit" data-default-text="[Airline Cancelation fee]" onclick="enableTextEdit(this)">[Airline Cancelation fee]</span><br>
                                Handling fee: <span class="manual-edit" data-default-text="[Cancelation Handling fee]" onclick="enableTextEdit(this)">[Cancelation Handling fee]</span><br>
                                Shall I proceed with the cancellation?
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>When the cancellation is done (Partially used)</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                It's all done, <span class="manual-edit" data-default-text="[Cx Name]" onclick="enableTextEdit(this)">[Cx Name]</span>. I have sent the cancellation confirmation to your registered email address.
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>Customer wants to cancel (no refund applicable and our service fee higher than refundable taxes)</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                Certainly, <span class="manual-edit" data-default-text="[Cx Name]" onclick="enableTextEdit(this)">[Cx Name]</span>. I will go ahead and check the airline policy for you. Allow me 5 minutes while I check this.
                            </div>
                            <div class="script-card">
                                <span class="manual-edit" data-default-text="[Cx Name]" onclick="enableTextEdit(this)">[Cx Name]</span>, the airline's rules indicate that your ticket is non-refundable and the amount of refundable tax is lower than our service fee of  per person. This said, you will not receive a refund nor will you be charged any additional fees. Would you like me to proceed with the cancellation to notify the airline?
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>Cancellation with cancelation protection (medical)</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                I can see that you purchased a cancellation protection. Please note the following requirements to submit a claim:<br><br>
                                1. A medical certificate must be submitted and completed by a doctor affiliated with the Social Insurance Office. 
                                The certificate must bear the name, contact telephone number and stamp of the doctor.<br>
                                2. A copy of the doctor's identification must be enclosed if no stamp is available.<br>
                                3. The doctor's certificate must state the examination date, examination results, diagnosis and the fact that you are unable to travel.<br>
                                4. The doctor must use the Gotogate doctor's certificate (I will send the link via email): this is the only doctor's certificate we accept. 
                                The doctor's certificate must be printed by an independent party for the doctor's certificate to be valid.<br><br>
                                Please let me know if you have any questions. 
                                The next step we will undertake is to cancel your flights. 
                                Would you like to proceed?
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>Pax doesn't want to Cancel</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                No problem. Please note that I have not made any changes to your booking. 
                                If you decide to cancel, please contact us again no later than <span class="manual-edit" data-default-text="[Cancelation deadline]" onclick="enableTextEdit(this)">[Cancelation deadline]</span>. 
                                After this date, changes may not be allowed or additional airline fees may apply.
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>The customer wants to cancel (full refund applicable and ATC/Edvin Calculator is working)</h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                Hi <span class="manual-edit" data-default-text="[Cx Name]" onclick="enableTextEdit(this)">[Cx Name]</span>, According to the airline terms and conditions for cancellation, 
                                cancellation fees will apply which are listed below:<br>
                                Total to pay for cancellation: <span class="manual-edit" data-default-text="Total Cancelation Fee Amount" onclick="enableTextEdit(this)">Total Cancelation Fee Amount</span><br>
                                -Breakdown-<br>
                                Airline cancellation fee: <span class="manual-edit" data-default-text="[Airline Cancelation fee]" onclick="enableTextEdit(this)">[Airline Cancelation fee]</span><br>
                                Handling fee: <span class="manual-edit" data-default-text="[Cancelation Handling fee]" onclick="enableTextEdit(this)">[Cancelation Handling fee]</span><br>
                                Total Refund Amount: <span class="manual-edit" data-default-text="[Total Refund Amount]" onclick="enableTextEdit(this)">[Total Refund Amount]</span><br><br>
                                Would you like us to proceed with canceling your booking and submitting a refund request to the airline?
                            </div>
                        </div>
                    </div>
                </section>
                <!--Schedule Change-->
                <section id="schedule-change-section" class="interaction-section">
                    <div class="section-grid">
                        <div class="section-headers">
                            <h3>Transferring chat to 2L/h3>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                Your request needs to be handled by a different team, specialised in schedule changes. Please stay connected in chat while I connect you to an agent from this team.
                            </div>
                        </div>
                        <div class="section-headers">
                            <h3>Flight reconfirmation</h3>
                            <p>Customers checking any changes or cancellations due to adverse weather, 
                                escalating tensions, etc.; 
                                however, flight remains active and confirmed on our system and no updates of any changes from the airline.</p>
                        </div>
                        <div class="section-scripts">
                            <div class="script-card">
                                Based on our records, your flight is confirmed, and we have not received any updates from the airline. 
                                If you have any further concerns about this flight, we kindly ask you to contact the airline directly. 
                                Thank you for your understanding. <br>
                                For your easy reference, please provide the following details when contacting the airline:<br><br>
                                Airline reference number: <br>
                                Ticket number: <br>
                                Passenger's last name: <br>
                                Airline website link: <span class="manual-edit" data-default-text="[Link]" onclick="enableTextEdit(this)">[Link]</span><br><br>
                            </div>
                        </div>
                    </div>
                </section>
                <!-- More sections can be added similarly -->
            </div>
        </main>
        <!-- Tooltip -->
        <div id="tooltip" class="tooltip">Copied!</div>
    </div>
    <script>
document.addEventListener('DOMContentLoaded', () => {
    // Configuration constants
    const CONFIG = {
        TOOLTIP_DURATION: 2000,
        ANIMATION_DURATION: 300,
        SEARCH_DEBOUNCE_TIME: 300
    };

    // Utility query selectors
    const $ = selector => document.querySelector(selector);
    const $$ = selector => document.querySelectorAll(selector);

    // Application State Management
    class AppState {
        constructor() {
            this.formData = { 
                agentName: '', 
                customerName: '', 
                intent: '' 
            };
        }

        // Update form data and placeholders
        updateFormData(key, value) {
            this.formData[key] = value;
            this.updatePlaceholders();
        }

        // Reset form data
        resetFormData(preserveAgentName = true) {
            if (preserveAgentName) {
                this.formData.customerName = '';
                this.formData.intent = '';
            } else {
                this.formData = { 
                    agentName: '', 
                    customerName: '', 
                    intent: '' 
                };
            }
            this.updatePlaceholders();
        }

        // Update placeholder texts across the application
        updatePlaceholders() {
            $$('.customer_name').forEach(el => {
                el.textContent = this.formData.customerName || '[Cx name]';
            });
            $$('.agent_name').forEach(el => {
                el.textContent = this.formData.agentName || '[Agent name]';
            });
            $$('.intent').forEach(el => {
                el.textContent = this.formData.intent || '[intent]';
            });
        }
    }

    // UI Management Class
    class UIManager {
        constructor(state) {
            this.state = state;
            this.inactivityTimeout = null;
            this.initEventListeners();
            this.setupTouchSwipeHandling();
        }

        // Initialize all event listeners
        initEventListeners() {
            // Sidebar toggle
            $('#sidebarToggle')?.addEventListener('click', () => this.toggleSidebar());
            $('#closeSidebar')?.addEventListener('click', () => this.toggleSidebar());
            
            $('#sidebar')?.addEventListener('mousemove', () => this.resetInactivityTimer());
            $('#sidebar')?.addEventListener('mousedown', () => this.resetInactivityTimer());
            $('#sidebar')?.addEventListener('keydown', () => this.resetInactivityTimer());
            document.addEventListener('click', (e) => this.handleOutsideClick(e));
            

            // Form input handling
            $$('.form-input').forEach(input => {
                input.addEventListener('input', e => {
                    this.state.updateFormData(e.target.id, e.target.value);
                });
            });

            // Clear form button
            $('#clearForm')?.addEventListener('click', () => this.clearForm());

            // Navigation buttons
            $$('.nav-btn').forEach(button => {
                button.addEventListener('click', () => this.handleNavigation(button));
            });

            // Search input with debounce
            $('.search-input')?.addEventListener('input', this.debounce(e => {
                const searchTerm = e.target.value.toLowerCase().trim();
                this.performSearch(searchTerm);
            }, CONFIG.SEARCH_DEBOUNCE_TIME));


            $('.times-icon')?.addEventListener('click', () => {
                $('.search-input').value = ''; // Clear the input field
                this.performSearch(''); // Reset the search and display all sections
            });

            // Escape key to close sidebar
            document.addEventListener('keydown', e => {
                if (e.key === 'Escape') this.toggleSidebar();
            });
        }

        // Debounce utility function
        debounce(func, delay) {
            let timeoutId;
            return (...args) => {
                clearTimeout(timeoutId);
                timeoutId = setTimeout(() => func.apply(this, args), delay);
            };
        }

        // Toggle sidebar visibility
        toggleSidebar() {
            const sidebar = $('#sidebar');
            const sidebarToggle = $('#sidebarToggle');
            
            sidebar.classList.toggle('open');
            sidebarToggle.classList.toggle('active');
            
            document.body.style.overflow = sidebar.classList.contains('open') ? 'hidden' : '';
            sidebarToggle.setAttribute('aria-expanded', sidebar.classList.contains('open'));
    
            if (sidebar.classList.contains('open')) {
                // Start the inactivity timer when the sidebar is opened
                this.startInactivityTimer();
            } else {
                // Clear the inactivity timer when the sidebar is closed
                this.clearInactivityTimer();
            }
        }
    
        // Start the inactivity timer
        startInactivityTimer() {
            this.clearInactivityTimer(); // Clear any existing timers first
            this.inactivityTimeout = setTimeout(() => {
                // Collapse the sidebar after a period of inactivity
                this.toggleSidebar();
            }, 5000); // Set to 5 seconds, or adjust as needed
        }
    
        // Reset the inactivity timer when the user interacts with the sidebar
        resetInactivityTimer() {
            if (this.inactivityTimeout) {
                clearTimeout(this.inactivityTimeout);
                this.startInactivityTimer(); // Restart the timer on interaction
            }
        }
    
        // Clear the inactivity timer
        clearInactivityTimer() {
            if (this.inactivityTimeout) {
                clearTimeout(this.inactivityTimeout);
                this.inactivityTimeout = null;
            }
        }

        handleOutsideClick(e) {
            const sidebar = $('#sidebar');
            const sidebarToggle = $('#sidebarToggle');
            
            if (sidebar.classList.contains('open')) {
                // Check if the click was outside the sidebar or the toggle button
                if (!sidebar.contains(e.target) && !sidebarToggle.contains(e.target)) {
                    // If the click is not within a script-card, collapse the sidebar
                    if (!e.target.closest('.script-card')) {
                        this.toggleSidebar(); // Collapse sidebar
                    }
                }
            }
        }

        // Clear form and reset manual edits
        clearForm() {
            this.state.resetFormData();
            $$('.form-input').forEach(input => {
                if (input.id !== 'agentName') input.value = '';
            });
        
            // Reset manual edits on all script cards
            $$('.script-card').forEach(card => {
                resetManualEdits(card);
            });
        }
        
        // Handle navigation between sections
        handleNavigation(button) {
            $$('.nav-btn').forEach(btn => btn.classList.remove('active'));
            button.classList.add('active');
    
            $$('.interaction-section').forEach(section => {
                section.classList.remove('active');
                section.style.display = 'none';

                section.querySelectorAll('.section-headers, .section-scripts, .script-card').forEach(el => {
                    el.style.display = '';
                });
            });
    
            const sectionId = button.id.replace('-nav', '-section');
            const targetSection = $(`#${sectionId}`);
            targetSection.classList.add('active');
            targetSection.style.display = 'block';
    
            const searchInput = $('.search-input');
            if (searchInput && searchInput.value.trim() !== '') {
                this.performSearch(searchInput.value.toLowerCase().trim());
            }
        }
        
        performSearch(searchTerm) {
            const sections = document.querySelectorAll('.interaction-section');
            const activeSectionId = document.querySelector('.nav-btn.active').id.replace('-nav', '-section');
        
            // Reset to show only the active section if the search bar is empty
            if (searchTerm === '') {
                sections.forEach(section => {
                    const sectionId = section.id;
        
                    if (sectionId === activeSectionId) {
                        section.classList.add('active'); // Set the section as active
                        section.style.display = ''; // Show the active section
                        section.querySelectorAll('.section-headers').forEach(header => {
                            header.style.display = ''; // Show all headers
                            header.nextElementSibling.style.display = ''; // Show their content
                        });
                    } else {
                        section.classList.remove('active'); // Remove active state
                        section.style.display = 'none'; // Hide other sections
                    }
                });
                return;
            }
        
            // Hide all headers and contents initially
            sections.forEach(section => {
                let hasMatch = false; // Track if the section has at least one matching header
        
                section.querySelectorAll('.section-headers').forEach(header => {
                    const headerText = header.textContent.toLowerCase();
        
                    if (headerText.includes(searchTerm)) {
                        header.style.display = ''; // Show the matching header
                        header.nextElementSibling.style.display = ''; // Show its content
                        hasMatch = true;
                    } else {
                        header.style.display = 'none'; // Hide non-matching headers
                        header.nextElementSibling.style.display = 'none'; // Hide their content
                    }
                });
        
                // Change section state based on matches
                if (hasMatch) {
                    section.classList.add('active'); // Set section as active
                    section.style.display = ''; // Show the section
                } else {
                    section.classList.remove('active'); // Remove active state
                    section.style.display = 'none'; // Hide the section
                }
            });
        }
        
        setupTouchSwipeHandling() {
            let touchStartX = 0;

            document.addEventListener('touchstart', e => {
                touchStartX = e.changedTouches[0].screenX;
            });

            document.addEventListener('touchend', e => {
                const touchEndX = e.changedTouches[0].screenX;
                const swipeDistance = touchEndX - touchStartX;
                
                const sidebar = $('#sidebar');
                if (Math.abs(swipeDistance) > 100) {
                    if (swipeDistance > 0 && !sidebar.classList.contains('open')) {
                        sidebar.classList.add('open');
                    } else if (swipeDistance < 0 && sidebar.classList.contains('open')) {
                        sidebar.classList.remove('open');
                    }
                }
            });
        }
    }

    // Enable text editing for manual edit spans
    window.enableTextEdit = function (element) {
        const currentText = element.innerText.trim();
        const defaultText = element.getAttribute('data-default-text');
    
        // Allow re-triggering even if content is already modified
        const input = document.createElement('input');
        input.type = 'text';
        input.value = currentText === defaultText ? '' : currentText; // Preserve edited text if modified
        input.classList.add('edit-input');
    
        element.innerHTML = ''; // Clear the span content
        element.appendChild(input);
        input.focus();
    
        input.addEventListener('input', function () {
            synchronizeText(input.value, defaultText, element);
        });
    
        input.addEventListener('keydown', function (event) {
            if (event.key === 'Enter') {
                saveEditedText(element, input);
            }
        });
    
        input.addEventListener('blur', function () {
            saveEditedText(element, input);
        });
    };
    
    // Synchronize text across matching spans
    function synchronizeText(value, defaultText, editedElement) {
        const allSpans = document.querySelectorAll(`[data-default-text="${defaultText}"]`);
        allSpans.forEach(span => {
            if (span !== editedElement) { // Skip the currently edited span
                span.innerText = value || defaultText; // Update all matching spans in real-time
            }
        });
    }
    
    // Save the edited text and revert to span mode
    function saveEditedText(element, input) {
        const newText = input.value.trim();
        const defaultText = element.getAttribute('data-default-text');
        element.innerHTML = newText || defaultText;
        synchronizeText(newText, defaultText, element);
    }

    function checkIfAllEdited(scriptCard) {
        const manualEditSpans = scriptCard.querySelectorAll('.manual-edit');
        for (let span of manualEditSpans) {
            const currentText = span.innerText;
            const defaultText = span.getAttribute('data-default-text');
            if (currentText === defaultText) {
                enableTextEdit(span);
                return false;
            }
        }
        return true;
    }

    function copyToClipboard(element) {
        const spans = element.querySelectorAll('span');
        let hasDefaultText = false;
        let hasManualEdit = false;

        spans.forEach(span => {
            const currentText = span.textContent.trim();
            const defaultText = span.getAttribute('data-default-text');
            if (currentText === defaultText && !span.classList.contains('manual-edit')) {
                hasDefaultText = true;
            }
            if (span.classList.contains('manual-edit')) {
                hasManualEdit = true;
            }
        });

        if (hasDefaultText) {
            showTooltip(element, "Please update the form before copying.");
            openSidebar();
            return;
        }

        if (hasManualEdit) {
            const allEdited = checkIfAllEdited(element);
            if (!allEdited) return;
        }

        const textToCopy = element.innerText || element.textContent;

        const tempTextArea = document.createElement('textarea');
        tempTextArea.value = textToCopy;

        document.body.appendChild(tempTextArea);
        tempTextArea.select();
        tempTextArea.setSelectionRange(0, 99999);
        document.execCommand('copy');
        document.body.removeChild(tempTextArea);

        showTooltip(element, "Copied!");
    }

    function showTooltip(element, message) {
        const tooltip = document.getElementById('tooltip');
        const rect = element.getBoundingClientRect();

        tooltip.textContent = message;

        const tooltipWidth = tooltip.offsetWidth;
        const tooltipHeight = tooltip.offsetHeight;

        const topPosition = rect.top + window.scrollY - tooltipHeight - 10;
        const leftPosition = rect.left + window.scrollX + rect.width / 2 - tooltipWidth / 2;

        tooltip.style.top = `${Math.max(0, topPosition)}px`;
        tooltip.style.left = `${Math.max(0, leftPosition)}px`;

        tooltip.style.opacity = 1;

        setTimeout(() => {
            tooltip.style.opacity = 0;
        }, CONFIG.TOOLTIP_DURATION);
    }

    function openSidebar() {
        const sidebar = document.getElementById('sidebar');
        const sidebarToggle = document.getElementById('sidebarToggle');

        sidebar.classList.add('open');
        sidebarToggle.classList.add('active');
        document.body.style.overflow = 'hidden';
        sidebarToggle.setAttribute('aria-expanded', true);
    }

    function resetManualEdits(card) {
        const manualEditSpans = card.querySelectorAll('.manual-edit');
        manualEditSpans.forEach(function(span) {
            const defaultText = span.getAttribute('data-default-text');
            span.innerHTML = defaultText;
        });
    }

    function addResetButtonToScriptCards() {
        document.querySelectorAll('.script-card').forEach(function(card) {
            const manualEditSpans = card.querySelectorAll('.manual-edit');

            if (manualEditSpans.length > 0) {
                const resetButton = document.createElement('button');
                resetButton.innerHTML = '<i class="fas fa-undo"></i>';
                resetButton.classList.add('reset-btn');
                resetButton.type = 'button';

                resetButton.addEventListener('click', function() {
                    resetManualEdits(card);
                });

                card.appendChild(resetButton);
            }
        });
    }

    function attachCopyFunctionality() {
        document.querySelectorAll('.script-card').forEach(function(card) {
            card.addEventListener('click', function(event) {
                if (event.target.classList.contains('manual-edit')) return;
                copyToClipboard(card);
            });
        });
    }

    const appState = new AppState();
    const uiManager = new UIManager(appState);
    
    addResetButtonToScriptCards();
    attachCopyFunctionality();
    appState.updatePlaceholders();
});
    </script>
</body>
</html>
